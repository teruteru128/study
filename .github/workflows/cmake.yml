name: cmake

on: [push]

  # Sample when vcpkg is a submodule of your repository (highly recommended!)

jobs: 
  build:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          submodules: 'recursive'
      - name: Install dependents
        run: sudo apt install ninja-build autopoint libcurl4-gnutls-dev libgmp-dev libsodium-dev libupnp-dev libxmlrpc-core-c3-dev uuid-dev libcunit1-dev libjson-c-dev libtommath-dev libtomcrypt-dev mingw-w64
      - name: Configuration
        run: cmake . -G Ninja -B build
      - name: build
        run: ninja -j 0 -C build
